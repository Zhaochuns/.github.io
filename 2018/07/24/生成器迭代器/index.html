<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8" />
  
  <title>豆芽菜的爱的博客</title>
  <meta name="author" content="豆芽菜" />

  
  <meta name="description" content="男人可以不帅，但是不能不装逼，装逼很重要" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

  
  <meta property="og:site_name" content="豆芽菜的爱的博客" />

  
  

  
    <meta property="og:image" content="" />
  

  
  <link href="/css/images/favicon.ico" rel="icon" />
  

  <link rel="alternate" href="/atom.xml" title="豆芽菜的爱的博客" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  


  <!-- baidu webmaster push -->
  <script src='//push.zhanzhang.baidu.com/push.js'></script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">豆芽菜的爱的博客</a></h1>
  <h2><a href="/">新进菜鸟一个</a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2018-07-24T06:52:53.772Z"><a href="/2018/07/24/生成器迭代器/">2018-07-24</a></time>
      
      
  
    <h1 class="title"></h1>
  

    </header>
    <div class="entry">
      
        <h1 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h1><ul>
<li><p>迭代器：抽象的数据</p>
<ul>
<li><p>迭代器中包含有两个内置函数</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__next__</span><br><span class="line">__iter__</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python3：range() 可迭代的对象</span><br><span class="line">python2：xrange()</span><br><span class="line">当你不去真正使用数据的时候，数据不会创建出来</span><br><span class="line">节约内存</span><br></pre></td></tr></table></figure>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可迭代的对象</span><br><span class="line">	<span class="number">1</span>：都可以通过<span class="keyword">for</span>循环访问</span><br><span class="line">	<span class="number">2</span>: 前一个数据可以找到后一个数据</span><br></pre></td></tr></table></figure>
<ul>
<li><p>迭代器访问的方式：一定是一个抽象的数据</p>
<ul>
<li><p>无法通过工厂函数实际化</p>
</li>
<li><p>可以通过for循环访问，每一次循环提取一个数据</p>
</li>
<li><p><strong>next</strong>函数也可以在每一次调用时返回一个迭代器里的数据</p>
</li>
<li><p>无法再重新生产已经生产出来的数据</p>
</li>
<li><p>迭代器访问完了之后就没法再次访问了</p>
</li>
<li><p>延时生成数据，啥时候用，啥时候用next或者for循环访问到就行。</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>可迭代的对象(iterable)：可以是抽象的，也可以是具象的</li>
</ul>
<ul>
<li><p>只要数据之间彼此维持了访问顺序</p>
</li>
<li><p>我可以通过前一个找到后一个</p>
</li>
<li><p>一般由链表构成，或者数组</p>
</li>
<li><p>dict、set无序。无法用线性表示其中顺序，树形结构本质是有顺序的</p>
</li>
<li><p>只要有__iter__函数，那么都可以通过iter去初始化成一个迭代器</p>
</li>
</ul>
<blockquote>
<p>可迭代的对象:</p>
<p>​    list,str,tuple,set,dict,file,sql,range</p>
<p>​    只需要含有__iter__函数的，都可以称作一个可迭代的对象</p>
<p>迭代器:</p>
<p>​    更抽象的数据，其中必须包含__next__函数，也必须包含__iter__</p>
<p>生成器:</p>
<p>​    高级的迭代器</p>
</blockquote>
<p>##无限迭代器：</p>
<blockquote>
<p> 无法被一次性实际化</p>
</blockquote>
<ul>
<li>通过函数自动创建</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">a = itertools.count() </span><br><span class="line">list(a) <span class="comment">#无法通过工厂函数直接实际化生产数据</span></span><br></pre></td></tr></table></figure>
<ul>
<li>通过一个序列数据来创建</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mylist = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b = itertools.cycle(mylist)</span><br></pre></td></tr></table></figure>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">count(start=<span class="number">0</span>,step=<span class="number">1</span>)  直线</span><br><span class="line">	start：数据起点</span><br><span class="line">	step：数据步长</span><br><span class="line">cycle(iterable) </span><br><span class="line">	iterable：是一个可迭代的数据</span><br></pre></td></tr></table></figure>
<h2 id="有限迭代器"><a href="#有限迭代器" class="headerlink" title="有限迭代器"></a>有限迭代器</h2><ul>
<li><p>iter内置函数直接升华具有__iter__内置函数的对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iter(list|str|tuple|set|dict|file|sql|range)</span><br></pre></td></tr></table></figure>
</li>
<li><p>模块函数来生产</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> islice</span><br><span class="line">islice(iterable,stop)</span><br><span class="line">islice(iterable,start,stop,[,step])</span><br><span class="line">	取序列的一定范围来创建迭代器</span><br></pre></td></tr></table></figure>
</li>
<li><p>只要是一个可迭代的对象，是不是都可以变成迭代器，然后用next来访问</p>
</li>
</ul>
<ul>
<li><p>for：一定访问的是一个可迭代的对象</p>
<ul>
<li>__iter__：检查数据是否是一个可迭代的</li>
<li>iter()：将可迭代数据升华成为一个迭代器</li>
<li>next()：每一次for循环都是调用一次next</li>
<li>for循环的结束其实是捕捉到了StopIteration异常</li>
</ul>
</li>
</ul>
<h1 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h1><ul>
<li><p>生成器也是迭代器，只不过是特殊的迭代器</p>
</li>
<li><p>生成器创建出来就是直接可以用的</p>
</li>
<li><p>元组推导式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">不需要手动维护iter和next函数</span><br><span class="line">gen = (var for var in range(10))</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数实现生成器</p>
<ul>
<li>yield语句可以在函数内部替换return语句实现生成器</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yield</span><br><span class="line">	返回结果</span><br><span class="line">	暂停函数</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">	返回结果</span><br><span class="line">	终止函数</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    
    <footer>
        <div class="alignright">
          
          <a href='javascript:void(0)' class="share-link bdsharebuttonbox" data-cmd="more">分享</a>
        </div>
        
        
        <!-- partial('post/share') -->
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:zhaocs.github.io">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2018/07/24/Python函数/匿名函数/"></a>
      </li>
    
      <li>
        <a href="/2018/07/24/Python函数/函数语句/"></a>
      </li>
    
      <li>
        <a href="/2018/07/24/Python函数/函数构成及作用域/"></a>
      </li>
    
      <li>
        <a href="/2018/07/24/Python函数/函数作用域/"></a>
      </li>
    
      <li>
        <a href="/2018/07/24/文件操作/文件操作1/"></a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  <p>
  
  &copy; 2018 豆芽菜
  
  All rights reserved.</p>
  <p>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></p>
</div>
<div class="clearfix"></div>

<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script></footer>
  <script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>


<div id='bg'></div>
</body>
</html>